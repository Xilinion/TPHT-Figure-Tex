
\begin{figure}[p]
    \centering
    \pgfplotslegendfromname{lflegend}
    
    \begin{tikzpicture}
        \begin{axis}[
            width=12cm,
            height=8cm,
            xlabel={Bin Size},
            ylabel={Load Factor Support (\%)},
            xmode=log,
            xmin=2,
            xmax=190,
            ymin=0,
            ymax=105,
            grid=major,
            grid style={gray!30},
            legend to name=lflegend,
            legend columns=1,
            legend style={draw=none, font=\small},
            tick label style={font=\small},
            label style={font=\small},
            scaled ticks=true,
            xtick={3,7,15,31,63,127},
            xticklabels={$2^2$,$2^3$,$2^4$,$2^5$,$2^6$,$2^7$}
        ]

        % Plot insertion data (from CSV) - blue with shade and markers
        \addplot[name path=insLine, draw=none, InsertionOnlyStyle] table[
            x=bin_size,
            y index=3,
            col sep=comma,
            restrict expr to domain={\thisrow{object_id}}{4:4}
        ] {\loadfactordata};
        \addlegendentry{Insertion Only}
        \addplot[name path=insBase, draw=none] coordinates {(3,0) (127,0)};
        \addplot[fill=exp1!25, fill opacity=0.35, draw=none, forget plot] fill between[of=insLine and insBase];
        \addplot[InsertionOnlyStyle, mark=o, mark size=2.5pt] table[
            x=bin_size,
            y index=3,
            col sep=comma,
            restrict expr to domain={\thisrow{object_id}}{4:4}
        ] {\loadfactordata};

        % Plot deletion data (hardcoded) - purple with shade and markers
        \addplot[name path=delLine, draw=none, WithDeletionStyle] coordinates {
            (3,7)
            (7,43)
            (15,71)
            (31,85)
            (63,91)
            (127,95)
        };
        \addlegendentry{With Deletion}
        \addplot[name path=delBase, draw=none] coordinates {(3,0) (127,0)};
        \addplot[fill=poisson!25, fill opacity=0.35, draw=none, forget plot] fill between[of=delLine and delBase];
        \addplot[WithDeletionStyle, mark=square*, mark size=2.5pt] coordinates {
            (3,7)
            (7,43)
            (15,71)
            (31,85)
            (63,91)
            (127,95)
        };

        \end{axis}
    \end{tikzpicture}
    \caption{Load Factor Support vs Bin Size for different hash table implementations. The x-axis shows bin size on a logarithmic scale, while the y-axis shows the maximum supported load factor as a percentage.}\label{fig:load_factor_support}
\end{figure} 